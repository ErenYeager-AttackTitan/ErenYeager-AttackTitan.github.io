I"í<p>Pada tulisan kali ini akan dilakukan penginstalan kafka dengan multi cluster. Dengan VM yang disediakan akan dilakukan instalasi kafka 3 node dan 3 server Zookeeper dengan sistem operasi CentOS 7 dimana dapat diakses remote dengan menggunakan SSH.</p>

<p><img title="Gambar 1. Desain Kafka" alt="Alt text" src="/img/posts/Instalasi Kafka/gambar1.png" /></p>

<p>hal yang pertama dibutuhkan adalah JDK 1.8 penginstalan (saya menggunakan CentOS):</p>

<p><code class="language-plaintext highlighter-rouge">$ sudo yum -y install java-1.8.0-openjdk</code></p>

<p>selanjutnya mendownlowad binari Kafka menggunakan perintah wget.</p>

<p><code class="language-plaintext highlighter-rouge">$ wget https://dlcdn.apache.org/kafka/3.2.0/kafka_2.13-3.2.0.tgz</code></p>

<h2 id="1-konfigurasi-zookeeper-zookeeperproperties">1. Konfigurasi Zookeeper (zookeeper.properties)</h2>

<p>setelah download maka selanjutnya melakukan pengkstrakan dan juga konfigurasi zookeper dan kafka. Konfigurasi zookeeper dilakukan dalam file zookeeper.properties</p>

<p><code class="language-plaintext highlighter-rouge">$ vim config/zookeeper.properties</code></p>

<p><img title="Gambar 2. Konfigurasi zookeeper.properties" alt="Alt text" src="/img/posts/Instalasi Kafka/gambar2.png" /></p>

<p style="text-align: justify;">_ticktime_ ini digunakan untuk mengatur lama dari _heartbeats_, dan batas waktu diatur 2000 ms (2 detik).  InitLimit adalah Peningkatan nilai ticktime jika data yang dikelola oleh ZooKeeper besar. SyncLimit untuk menyinkronkan dengan ZooKeeper. Server 1 â€“ 3 merupakan server yang akan di jadikan sebagai zookeeper.
Penulisan server yang digunakan adalah server.id=host:port:port dengan mengatribusikan id server ke setiap mesin dengan membuat file bernama myid, satu untuk setiap server, yang berada di direktori data server itu, seperti yang ditentukan oleh parameter file konfigurasi dataDir.</p>

<p><img title="Gambar 2. Konfigurasi zookeeper.properties" alt="Alt text" src="/img/posts/Instalasi Kafka/gambar3.png" /></p>
:ET